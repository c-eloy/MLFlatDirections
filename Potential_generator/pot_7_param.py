
import tensorflow as tf
import numpy as np

dim = 7

def V(x):
    """
    V = 0.5 * (tf.math.exp(-6 * x4 -2 * x5 -4 * (3 ** -0.5) * x6 + 2 * x7)) * (tf.math.exp(4 * x4 + 2 * x5) + tf.math.exp(12 * x4 + 2 * x5 + 4 * (3 ** -0.5) * x6) + tf.math.exp(4 * x4 + 2 * (tf.math.sqrt(3.)) * x6) + tf.math.exp(4 * x4 + 4 * x5 + 2 * (tf.math.sqrt(3.)) * x6) + 4 * (tf.math.exp(6 * x4 + 2 * x5 + 4 * (3 ** -0.5) * x6 + 2 * x7)) + 2 * (tf.math.exp(2 * x4 + 3 * x5 + 5 * (3 ** -0.5) * x6)) * (x1 ** 2) + 2 * (tf.math.exp(10 * x4 + x5 + (tf.math.sqrt(3.)) * x6)) * (x1 ** 2) + (tf.math.exp(8 * x4 + 2 * (3 ** -0.5) * x6)) * (x1 ** 4) + 2 * (tf.math.exp(2 * x4 + x5 + 5 * (3 ** -0.5) * x6)) * (x2 ** 2) + 2 * (tf.math.exp(10 * x4 + 3 * x5 + (tf.math.sqrt(3.)) * x6)) * (x2 ** 2) + (tf.math.exp(8 * x4 + 4 * x5 + 2 * (3 ** -0.5) * x6)) * (x2 ** 4) + 2 * (tf.math.exp(8 * x4 + 2 * x5 + 2 * (3 ** -0.5) * x6)) * (-1 + (x1 ** 2) * (x2 ** 2)) + 2 * (tf.math.exp(2 * x4 + 2 * x5 + 2 * (3 ** -0.5) * x6)) * (x3 ** 2) + 2 * (tf.math.exp(2 * (5 * x4 + x5 + (tf.math.sqrt(3.)) * x6))) * (x3 ** 2) + (tf.math.exp(8 * x4 + 2 * x5 + 8 * (3 ** -0.5) * x6)) * (x3 ** 4) -4 * (tf.math.exp(6 * x4 + 2 * x5 + 4 * (3 ** -0.5) * x6)) * (x1 ** 2 + x2 ** 2 + x3 ** 2) + (tf.math.exp(2 * x5 + 4 * (3 ** -0.5) * x6)) * ((x1 ** 2 + x2 ** 2 + x3 ** 2) ** 2) + 2 * (tf.math.exp(8 * x4 + x5 + 5 * (3 ** -0.5) * x6)) * (-1 + (x1 ** 2) * (x3 ** 2)) + 2 * (tf.math.exp(8 * x4 + 3 * x5 + 5 * (3 ** -0.5) * x6)) * (-1 + (x2 ** 2) * (x3 ** 2)) -2 * (tf.math.exp(4 * x4 + 3 * x5 + (tf.math.sqrt(3.)) * x6)) * (1 + (x1 ** 2) * (x2 ** 2) + x2 ** 4 + (x2 ** 2) * (x3 ** 2)) -2 * (tf.math.exp(2 * (2 * x4 + x5 + (tf.math.sqrt(3.)) * x6))) * (1 + (x1 ** 2) * (x3 ** 2) + (x2 ** 2) * (x3 ** 2) + x3 ** 4) -2 * (tf.math.exp(4 * x4 + x5 + (tf.math.sqrt(3.)) * x6)) * (1 + x1 ** 4 + (x1 ** 2) * (x2 ** 2 + x3 ** 2)))
    """

    x1, x2, x3, x4, x5, x6, x7 = tf.split(x, 7, axis=1)

    return 0.5 * (tf.math.exp(-6 * x4 -2 * x5 -4 * (3 ** -0.5) * x6 + 2 * x7)) * (tf.math.exp(4 * x4 + 2 * x5) + tf.math.exp(12 * x4 + 2 * x5 + 4 * (3 ** -0.5) * x6) + tf.math.exp(4 * x4 + 2 * (tf.math.sqrt(3.)) * x6) + tf.math.exp(4 * x4 + 4 * x5 + 2 * (tf.math.sqrt(3.)) * x6) + 4 * (tf.math.exp(6 * x4 + 2 * x5 + 4 * (3 ** -0.5) * x6 + 2 * x7)) + 2 * (tf.math.exp(2 * x4 + 3 * x5 + 5 * (3 ** -0.5) * x6)) * (x1 ** 2) + 2 * (tf.math.exp(10 * x4 + x5 + (tf.math.sqrt(3.)) * x6)) * (x1 ** 2) + (tf.math.exp(8 * x4 + 2 * (3 ** -0.5) * x6)) * (x1 ** 4) + 2 * (tf.math.exp(2 * x4 + x5 + 5 * (3 ** -0.5) * x6)) * (x2 ** 2) + 2 * (tf.math.exp(10 * x4 + 3 * x5 + (tf.math.sqrt(3.)) * x6)) * (x2 ** 2) + (tf.math.exp(8 * x4 + 4 * x5 + 2 * (3 ** -0.5) * x6)) * (x2 ** 4) + 2 * (tf.math.exp(8 * x4 + 2 * x5 + 2 * (3 ** -0.5) * x6)) * (-1 + (x1 ** 2) * (x2 ** 2)) + 2 * (tf.math.exp(2 * x4 + 2 * x5 + 2 * (3 ** -0.5) * x6)) * (x3 ** 2) + 2 * (tf.math.exp(2 * (5 * x4 + x5 + (tf.math.sqrt(3.)) * x6))) * (x3 ** 2) + (tf.math.exp(8 * x4 + 2 * x5 + 8 * (3 ** -0.5) * x6)) * (x3 ** 4) -4 * (tf.math.exp(6 * x4 + 2 * x5 + 4 * (3 ** -0.5) * x6)) * (x1 ** 2 + x2 ** 2 + x3 ** 2) + (tf.math.exp(2 * x5 + 4 * (3 ** -0.5) * x6)) * ((x1 ** 2 + x2 ** 2 + x3 ** 2) ** 2) + 2 * (tf.math.exp(8 * x4 + x5 + 5 * (3 ** -0.5) * x6)) * (-1 + (x1 ** 2) * (x3 ** 2)) + 2 * (tf.math.exp(8 * x4 + 3 * x5 + 5 * (3 ** -0.5) * x6)) * (-1 + (x2 ** 2) * (x3 ** 2)) -2 * (tf.math.exp(4 * x4 + 3 * x5 + (tf.math.sqrt(3.)) * x6)) * (1 + (x1 ** 2) * (x2 ** 2) + x2 ** 4 + (x2 ** 2) * (x3 ** 2)) -2 * (tf.math.exp(2 * (2 * x4 + x5 + (tf.math.sqrt(3.)) * x6))) * (1 + (x1 ** 2) * (x3 ** 2) + (x2 ** 2) * (x3 ** 2) + x3 ** 4) -2 * (tf.math.exp(4 * x4 + x5 + (tf.math.sqrt(3.)) * x6)) * (1 + x1 ** 4 + (x1 ** 2) * (x2 ** 2 + x3 ** 2)))